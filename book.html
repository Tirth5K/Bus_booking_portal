<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="JS/register-app/react-app.js"></script>
    <title>Bus Booking - Sign In / Register</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Initialize a variable to track whether the user is registered
        var isRegistered = false;


        function functionClick() {
            if (!isRegistered) {
                // Register the user if they click the "Register" button
                registerUser();
            } else {
                // If already registered, proceed with login
                var loginEmail = document.getElementById("email").value;
                var loginPassword = document.getElementById("password").value;

                // Check if the user is registered
                if (checkCredentials(loginEmail, loginPassword)) {
                    // Redirect to the search page (you need to have this file)
                    window.location.href = "sun.html";
                } else {
                    // Show a pop-up message if the user is not registered
                    alert("Incorrect email or password. Please try again.");
                }
            }
        }

        function registerUser() {
            // Implement registration logic here (e.g., send data to the server)
            // For now, we'll just set isRegistered to true
            isRegistered = true;
            document.getElementById("adp").innerHTML = "Thank you for registering! You can now log in.";
        }

        function checkCredentials(email, password) {
            // Implement the logic to check credentials (e.g., check against a database)
            // For now, we'll assume a simple case with hardcoded data
            return email === "user@example.com"&& password ==="12345" ;
        }
    </script>
</head>
<body>
    <header>
        <h1>GMR Travels Bus Booking</h1>
        <a href="index.html" ,align="Right">Home</a>
       

    </header>
    <nav>
        <!-- Navigation menu here -->
    </nav>
    <main>
        <script src="Js/My-login-app/react-app.js">
            // Get the user's name from an input field
var userName = document.getElementById("register-name").value;



// Store the name in localStorage
localStorage.setItem("userName", userName);
// Assuming you are using React Router
import { useHistory } from 'react-router-dom';

function Logout() {
  const history = useHistory();

  const handleLogout = async () => {
    // Implement the logic to clear the user's session/token on the server-side
    // and any client-side storage (e.g., local storage).
    
    // For example, clear the user's name from local storage
    localStorage.removeItem('userName');

    // Redirect the user to the login page or any desired page
    history.push('/login');
  };

  return (
    <div id="root">
      <h2>Logout</h2>
      <button onClick={handleLogout}>Logout</button>
    </div>
  );
}


        </script>
        <div class="login-container">
            <h2>Login to Your Account</h2>
            <form id="login-form" onsubmit="event.preventDefault(); functionClick();" action="/login">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
                <button type="submit">Login</button>
            </form>
        </div>

        <div class="register-form">
            <h2>Register</h2>
            <form action="/register" method="POST">
                <label for="register-name">Name:</label>
                <input type="text" id="register-name" name="register-name" required>
                <label for="register-email">Email:</label>
                <input type="email" id="register-email" name="register-email" required>
                <label for="register-password">Password:</label>
                <input type="password" id="register-password" name="register-password" required>
                <button type="button" onclick="functionClick()">Register</button>
            </form>
        </div>

        <p id="adp"></p>
    </main>
    <footer>
        <p>&copy; 2023 Bus Booking</p>
    </footer>
</body>
</html>


